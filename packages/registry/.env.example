# Server Configuration
NODE_ENV=development
PORT=3111
HOST=0.0.0.0
# Log level: trace, debug, info, warn, error, fatal
LOG_LEVEL=info

# Database
DATABASE_URL=postgresql://prpm:prpm@localhost:5432/prpm

# Redis Cache
REDIS_URL=redis://localhost:6379

# Search Engine Configuration
# Options: 'postgres' (default, uses PostgreSQL FTS) or 'opensearch' (requires AWS OpenSearch)
SEARCH_ENGINE=postgres

# OpenSearch Configuration (only needed if SEARCH_ENGINE=opensearch)
OPENSEARCH_ENDPOINT=https://search-prpm-xxxxx.us-west-2.es.amazonaws.com
# AWS credentials for OpenSearch (optional if using IAM role on ECS)
# AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY will be used if set
AWS_REGION=us-west-2

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# GitHub OAuth
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_CALLBACK_URL=http://localhost:3111/api/v1/auth/github/callback

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:5173

# S3-Compatible Storage (for package files)
S3_ENDPOINT=https://s3.amazonaws.com
S3_REGION=us-west-2
S3_BUCKET=prpm-packages
S3_ACCESS_KEY_ID=your_access_key
S3_SECRET_ACCESS_KEY=your_secret_key

# Rate Limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000

# Package Settings
MAX_PACKAGE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_EXTENSIONS=.md,.json,.yaml,.yml,.txt

# AI Quality Evaluation
# Anthropic API key for AI-powered prompt quality scoring
ANTHROPIC_API_KEY=your_anthropic_api_key_here
# Enable/disable AI evaluation (set to 'false' to use heuristic scoring only)
AI_EVALUATION_ENABLED=true

# Stripe Payment Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_VERIFIED_PLAN_PRICE_ID=price_your_verified_plan_price_id

# ==============================================================================
# SSG DATA TOKEN
# ==============================================================================

# Secret token for authenticating SSG data endpoints
# Used by the webapp during static site generation to fetch all packages/collections
# Generate a secure random token: openssl rand -hex 32
# IMPORTANT: Must match the token used in GitHub Actions (SSG_DATA_TOKEN secret)
SSG_DATA_TOKEN=your_secure_random_token_here
